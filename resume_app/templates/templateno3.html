{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curriculum Vitae</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 70%;
            margin: 0 auto;
            padding: 40px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }
        h1 {
            font-size: 3rem;
            margin: 0;
            padding: 0;
        }
        .contact-info {
            text-align: right;
            font-size: 1.1rem;
        }
        .contact-info p {
            margin: 5px 0;
        }
        .section-title {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .section-content {
            font-size: 1rem;
            margin-top: 5px;
        }
        .work-experience ul, .education ul, .skills ul, .additional-courses ul, .languages-known ul {
            list-style: none;
            padding: 0;
        }
        .work-experience li, .education li, .skills li, .additional-courses li, .languages-known li {
            margin-bottom: 10px;
        }
        footer {
            margin-top: 40px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>{{ user.first_name }} {{ user.last_name }}</h1>
            </div>
            <div class="contact-info">
                <p><strong>Address:</strong> {{ user.contactinfo.address }}</p>
                <p><strong>Phone:</strong> {{ user.contactinfo.phone_number }}</p>
                <p><strong>Email:</strong> {{ user.contactinfo.email }}</p>
            </div>
        </header>

        <div class="work-experience">
            <div class="section-title">Work Experience</div>
            <div class="section-content">
                <ul>
                    {% for work in work_experience %}
                    <li>
                        <strong>{{ work.job_title }} - {{ work.employer }} ({{ work.start_date }} - {{ work.end_date }})</strong><br>
                        <span>{{ work.city }}</span><br>
                        <p>{{ work.job_description }}</p>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="education">
            <div class="section-title">Education and Qualifications</div>
            <div class="section-content">
                <ul>
                    {% for edu in education %}
                    <li>
                        <strong>{{ edu.degree }} at {{ edu.school }} ({{ edu.start_date }} - {{ edu.end_date }})</strong><br>
                        <span>{{ edu.city }}</span>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="skills">
            <div class="section-title">Skills</div>
            <div class="section-content">
                <ul>
                    {% for skill in skills %}
                    <li>{{ skill.skill }} - {{ skill.proficiency }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="additional-courses">
            <div class="section-title">Additional Courses</div>
            <div class="section-content">
                <ul>
                    {% for course in additional_courses %}
                    <li>{{ course.course_name }} - {{ course.institution }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="languages-known">
            <div class="section-title">Languages Known</div>
            <div class="section-content">
                <ul>
                    {% for language in languages_known %}
                    <li>{{ language.language }} - {{ language.proficiency_level }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <footer>
            <p>Generated on {{ current_date }}</p>
        </footer>
    </div>
</body>
</html>
